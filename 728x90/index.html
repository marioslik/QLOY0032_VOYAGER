<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title></title>
  <link rel="stylesheet" href="http://staging.slik.com.au/assets/styles.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="//use.typekit.net/sbg2fbx.js"></script>
  <script>
    try {
      Typekit.load();
    } catch (e) {}
  </script>

<script type="text/javascript">
  /* ONLY AMMEND THESE VALUES */

  var jobNumber = "QLOY0032";
  var jobTitle = "VOYAGER";

  var creatives = [

            {
                name: "2 Points Per 1",
                url: "http://staging.slik.com.au/qantasloyalty/QLOY0032_VOYAGER/v3/728x90/2QantasPointsPer1-v2/",
                width: 728,
                height: 90,
                type: "iframe"
            },
            {
                name: "Balance Transfers",
                url: "http://staging.slik.com.au/qantasloyalty/QLOY0032_VOYAGER/v3/728x90/BalanceTransfers-v2/",
                width: 728,
                height: 90,
                type: "iframe"
            },
            {
                name: "Brand",
                url: "http://staging.slik.com.au/qantasloyalty/QLOY0032_VOYAGER/v3/728x90/Brand-v2/",
                width: 728,
                height: 90,
                type: "iframe"
            },
            {
                name: "Companion Fares",
                url: "http://staging.slik.com.au/qantasloyalty/QLOY0032_VOYAGER/v3/728x90/CompanionFares-v2/",
                width: 728,
                height: 90,
                type: "iframe"
            },
            {
                name: "Lounge Invitations",
                url: "http://staging.slik.com.au/qantasloyalty/QLOY0032_VOYAGER/v3/728x90/LoungeInvitations-v2/",
                width: 728,
                height: 90,
                type: "iframe"
            }
  ];
    /* DO NOT EDIT BELOW THIS LINE */
  </script>

</head>

<body>
  <div class="staging-area">
    <div class="main-container">
      <nav>
        <div class="logo-symbol replay">
          <img src="http://staging.slik.com.au/assets/slik-symbol.svg" alt="">
        </div>
        <div class="job">
          <h1><span class="job-number"></span>&nbsp;<span class="job-title"></span></h1>
        </div>
        <div class="right-column">
          <div class="banner-size">
            <h1><span class="width-frame"></span>x<span class="height-frame"></span></h1>
          </div>
          <div id="arrow-down-btn" class="arrow-btn">
            <img src="http://staging.slik.com.au/assets/arrow-down.png" alt="">
          </div>
        </div>
      </nav>
      <div class="staging-links">
        <div class="preview-list"></div>
      </div>
      <div class="staging-preview-area">
        <!-- <div class="preview-target"> -->
          <div id="flashContent"></div>
          <div id="replay-btn" class="replay">
            <img src="http://staging.slik.com.au/assets/replay-icon.svg" alt="">
            <small>replay</small>
          </div>
          <!-- <a href="#" class="replay">replay</a> -->

        <!-- </div> -->
      </div>
      <footer>
        <div class="slik-logo">
          <a href="http://slik.com.au/" target="_blank"><img src="http://staging.slik.com.au/assets/slik-logo.svg" alt=""></a>
        </div>
        <div class="link-group">
          <a href="#">404, 8 Hill St, Surry Hills</a>
          <a href="tel:0293809246">02 9380 9246</a>
          <a href="mailto:hello@slik.com.au">hello@slik.com.au</a>
        </div>
      </footer>
    </div>
  </div>




  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {

      $("#arrow-down-btn").on("click", function(){
        $(".staging-links").toggle();
      })

      var current = 0;

      $('title').html('slik :: ' + jobNumber + " - " + jobTitle);
      $('.job-number').html(jobNumber);
      $('.job-title').html(jobTitle);

      var html = "";

      for (var i = 0; i < creatives.length; i++) {
        var creativeType = "";
        if (creatives[i].type == "iframe") {
          creativeType = "HTML5";
        } else if (creatives[i].type == "video") {
          creativeType = "Video";
        } else {
          creativeType = "Image";
        }

        html += "<li class='preview-link' data-index='" + i + "'>" + creatives[i].name + '<span class="creative-type">' + creativeType + '</span>' + '<br /><span class="size-creative">' + creatives[i].width + "x" + creatives[i].height +  '</span><br /><span class="title-creative">' + jobTitle + " - " + jobNumber + "</span></li>";
      }

      $(".preview-list").html(html);

      $(".replay").click(function() {
        swap(current);
      });

      $(".preview-link").click(function() {
        $(".preview-link").removeClass('active');
        var index = $(this).attr('data-index');
        current = index;

        swap(index);
        var w = $(window).width();
        if(w <= 480) {
          $(".staging-links").toggle();
        }
      });


      function swap(index) {
        var swfTemplate = "<object type='application/x-shockwave-flash' data='" + creatives[index].url + "' width='" + creatives[index].width + "' height='" + creatives[index].height + "' id='Movie' style='float: none; vertical-align:middle'>";
        swfTemplate += "<param name='movie' value='" + creatives[index].url + "' />";
        swfTemplate += "<param name='quality' value='high' />";
        swfTemplate += "<param name='bgcolor' value='#ffffff' />";
        swfTemplate += "<param name='play' value='true' />";
        swfTemplate += "<param name='loop' value='true' />";
        swfTemplate += "<param name='wmode' value='window' />";
        swfTemplate += "<param name='scale' value='showall' />";
        swfTemplate += "<param name='menu' value='true' />";
        swfTemplate += "<param name='devicefont' value='false' />";
        swfTemplate += "<param name='salign' value='' />";
        swfTemplate += "<param name='allowScriptAccess' value='always' />";
        swfTemplate += "</object>";

        if (creatives[index].type == "iframe") {
          swfTemplate = "";
          swfTemplate = "<iframe src='" + creatives[index].url + "' width='" + creatives[index].width + "' height='" + creatives[index].height + "' scrolling='no'></iframe>"

          $("#flashContent").css({
            "width": creatives[index].width,
            "height": creatives[index].height,
            "overflow-y": "hidden"
          });

          $("#replay-btn").css({
            top: "calc(" + creatives[index].height +"px - -70px)",
            "display": "block"
          })

          $(".width-frame").html(creatives[index].width);
          $(".height-frame").html(creatives[index].height);
        }

        if (creatives[index].type == "video") {
          swfTemplate = "";
          swfTemplate = '<video id="video-player"' + "width='" + creatives[index].width + "' height='" + creatives[index].height + "' controls autoplay><source src='" + creatives[index].url + "' type='video/mp4'>Your browser does not support the video tag.</video>";

          $(".width-frame").html(creatives[index].width);
          $(".height-frame").html(creatives[index].height);

          $("#flashContent").css({
            "width": creatives[index].width,
            "height": creatives[index].height,
            "overflow-y": "hidden"
          });

          $("#replay-btn").css({
            top: "calc(" + creatives[index].height +"px - -70px)",
            "display": "block"
          })

        }

        if (creatives[index].type == "image") {
          swfTemplate = "";
          swfTemplate = '<img id="image-displayed" src="' + creatives[index].url +'"/>'

          $(".width-frame").html(creatives[index].width);
          $(".height-frame").html(creatives[index].height);

          $("#flashContent").css({
            "width": creatives[index].width,
            "height": creatives[index].height,
            "max-width": "100%",
            "overflow-y": "scroll"
          });

          $("#replay-btn").css({
            "display": "none"
          })

        }

        $("#flashContent").html(swfTemplate);


        var h = (window.innerHeight / 2) - (creatives[index].height / 2);

        $(".preview-link:eq(" + index + ")").addClass('active');
      }

      swap(current);

      $(window).resize(function() {

        var h = (window.innerHeight / 2) - (creatives[current].height / 2);
        $("#flashContent").css('margin-top', h + "px");

      });
    });
  </script>
</body>

</html>
